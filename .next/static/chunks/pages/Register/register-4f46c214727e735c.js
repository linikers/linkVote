(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[718],{3958:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Register/register",function(){return a(5274)}])},5274:function(e,t,a){"use strict";a.r(t),a.d(t,{Register:function(){return l}});var r=a(5893),n=a(4466),i=a(2435),s=a(3788),o=a(7150),c=a(7294);let l=e=>{let{onRegister:t}=e,[a,l]=(0,c.useState)({id:"",name:"",work:"",votes:0,percent:0,anatomy:0,creativity:0,pigmentation:0,traces:0,readability:0,visualImpact:0,totalScore:0}),[,u]=(0,c.useState)(""),[,m]=(0,c.useState)("success"),[,d]=(0,c.useState)(!1),p=e=>{let{name:t,value:a}=e.target;l(e=>({...e,[t]:"votes"===t||"anatomy"===t||"creativity"===t||"pigmentation"===t||"traces"===t||"readability"===t||"visualImpact"===t||"totalScore"===t?parseFloat(a):a}))},h=async e=>{e.preventDefault();try{let e=await fetch("/api/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!e.ok){let t=await e.json();u("Erro ao salvar: ".concat(t.message)),m("error"),d(!0);return}let r=await e.json();u("Registrado com sucesso!"),m("success"),d(!0),t(),l({id:"",name:"",work:"",votes:0,percent:0,anatomy:0,creativity:0,pigmentation:0,traces:0,readability:0,visualImpact:0,totalScore:0}),r()}catch(e){u("Erro ao salvar"),m("error"),d(!0)}};return(0,r.jsx)("form",{onSubmit:h,children:(0,r.jsx)(n.ZP,{container:!0,spacing:2,children:(0,r.jsxs)(i.Z,{fullWidth:!0,children:[(0,r.jsx)(n.ZP,{item:!0,xs:12,style:{margin:"1rem"},children:(0,r.jsx)(s.Z,{label:"Nome",name:"name",value:a.name,color:"secondary",onChange:p,fullWidth:!0})}),(0,r.jsx)(n.ZP,{item:!0,xs:12,style:{margin:"1rem"},children:(0,r.jsx)(s.Z,{label:"Est\xfadio",name:"work",value:a.work,onChange:p,fullWidth:!0})}),(0,r.jsx)(n.ZP,{item:!0,style:{margin:"2rem"},children:(0,r.jsx)(o.Z,{variant:"contained",color:"primary",type:"submit",children:"Salvar"})})]})})})}}},function(e){e.O(0,[836,394,888,774,179],function(){return e(e.s=3958)}),_N_E=e.O()}]);