(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(3405)}])},7541:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return c}});var a=r(5893),n=r(4466),i=r(6144),o=r(1388),s=r(8163),l=r(7294);function c(t){let{onRegister:e}=t,[r,c]=(0,l.useState)({id:"",name:"",work:"",votes:0,percent:0,anatomy:0,creativity:0,pigmentation:0,traces:0,readability:0,visualImpact:0,totalScore:0}),[,m]=(0,l.useState)(""),[,d]=(0,l.useState)("success"),[,u]=(0,l.useState)(!1),f=t=>{let{name:e,value:r}=t.target;c(t=>({...t,[e]:"votes"===e||"anatomy"===e||"creativity"===e||"pigmentation"===e||"traces"===e||"readability"===e||"visualImpact"===e||"totalScore"===e?parseFloat(r):r}))},x=async t=>{t.preventDefault();try{let t=await fetch("/api/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!t.ok){let e=await t.json();m("Erro ao salvar: ".concat(e.message)),d("error"),u(!0);return}let a=await t.json();m("Registrado com sucesso!"),d("success"),u(!0),e(),c({id:"",name:"",work:"",votes:0,percent:0,anatomy:0,creativity:0,pigmentation:0,traces:0,readability:0,visualImpact:0,totalScore:0}),a()}catch(t){m("Erro ao salvar"),d("error"),u(!0)}};return(0,a.jsx)("form",{onSubmit:x,children:(0,a.jsx)(n.ZP,{container:!0,spacing:2,children:(0,a.jsxs)(i.Z,{fullWidth:!0,children:[(0,a.jsx)(n.ZP,{item:!0,xs:12,style:{margin:"1rem"},children:(0,a.jsx)(o.Z,{label:"Nome",name:"name",value:r.name,color:"secondary",onChange:f,fullWidth:!0})}),(0,a.jsx)(n.ZP,{item:!0,xs:12,style:{margin:"1rem"},children:(0,a.jsx)(o.Z,{label:"Est\xfadio",name:"work",value:r.work,onChange:f,fullWidth:!0})}),(0,a.jsx)(n.ZP,{item:!0,style:{margin:"2rem"},children:(0,a.jsx)(s.Z,{variant:"contained",color:"primary",type:"submit",children:"Salvar"})})]})})})}},1487:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return c}});var a=r(5893),n=r(4246),i=r(4466),o=r(2191),s=r(4440),l=r(7294);function c(){let[t,e]=(0,l.useState)(!1),[r,c]=(0,l.useState)([]);if((0,l.useEffect)(()=>{(async()=>{try{e(!0);let t=await fetch("/api/list");if(!t.ok)throw Error("Erro ao listar competidores");let r=await t.json();c(r)}catch(t){console.error("Erro ao buscar dados:",t)}finally{e(!1)}})()},[]),t)return(0,a.jsx)(n.Z,{children:"Carregando..."});let m=[...r].sort((t,e)=>e.totalScore-t.totalScore).slice(0,100);return(0,a.jsxs)(i.ZP,{container:!0,spacing:2,sx:{margin:"3rem",marginTop:"6rem"},children:[(0,a.jsx)(i.ZP,{xs:12,children:(0,a.jsx)(n.Z,{gutterBottom:!0,variant:"h4",children:"Top 100"})}),m.map((t,e)=>(0,a.jsx)(i.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,a.jsxs)(o.Z,{sx:{boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",backgroundColor:"#e3d5ca",borderRadius:"8px",padding:"1rem"},children:[(0,a.jsx)(s.Z,{sx:{textAlign:"center",marginBottom:"1rem"},children:(0,a.jsxs)(n.Z,{variant:"h6",sx:{fontWeight:"bold"},children:[e+1,". ",t.name]})}),(0,a.jsxs)(s.Z,{children:[(0,a.jsxs)(n.Z,{variant:"body1",children:["Anatomia: ",t.anatomy]}),(0,a.jsxs)(n.Z,{variant:"body1",children:["Criatividade: ",t.creativity]}),(0,a.jsxs)(n.Z,{variant:"body1",children:["Pigmenta\xe7\xe3o: ",t.pigmentation]}),(0,a.jsxs)(n.Z,{variant:"body1",children:["Tra\xe7os: ",t.traces]}),(0,a.jsxs)(n.Z,{variant:"body1",children:["Legibilidade: ",t.readability]}),(0,a.jsxs)(n.Z,{variant:"body1",children:["Impacto Visual: ",t.visualImpact]}),(0,a.jsxs)(n.Z,{variant:"body2",children:["Nota Geral: ",t.totalScore]})]})]})},e))]})}},3405:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return b}});var a=r(5893),n=r(7294),i=r(4466),o=r(8163),s=r(2729),l=r(917),c=r(4246),m=r(2237),d=r(9234);function u(){let t=(0,s._)(["\n  0% { opacity: 1; color: #ff00ff; }\n  25% { opacity: 0.5; color: #ff00ff; }\n  50% { opacity: 1; color: #ff00ff; }\n  75% { opacity: 0.5; color: #ff00ff; } \n  100% { opacity: 1; color: #ff00ff; } \n  75% { opacity: 0.5; color: #ff00ff; }\n  50% { opacity: 1; color: #ff00ff; }\n  25% { opacity: 0.5; color: #ff00ff; }\n  0% { opacity: 1; color: #ff00ff; }\n"]);return u=function(){return t},t}let f=(0,l.F4)(u()),x=()=>(0,a.jsx)(i.ZP,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem",perspective:"800px",flexDirection:{xs:"column",sm:"row"}},children:(0,a.jsxs)(c.Z,{sx:{transform:"rotateY(20deg)",transition:"transform 0.5s",marginBottom:"3rem",display:"flex",alignItems:"center",animation:"".concat(f," 2s infinite"),flexDirection:{xs:"column",sm:"row"}},children:["Rocket Tattoo",(0,a.jsx)(m.Z,{sx:{fontSize:"3rem",transform:"translateZ(40px) rotateZ(10deg)",margin:"0 1rem",transition:"transform 0.5s, color 0.5s",animation:"".concat(f," 2s infinite"),"&:hover":{transform:"translateZ(40px) rotateZ(10deg)"}}}),"feat. linikerS.Dev",(0,a.jsx)(d.Z,{sx:{fontSize:"3rem",transform:"translateZ(40px) rotateZ(10deg)",margin:"0 1rem",transition:"transform 0.5s, color 0.5s",animation:"".concat(f," 2s infinite"),"&:hover":{transform:"translateZ(40px) rotateZ(10deg)"}}})]})});var p=r(6118),h=r(5892);let y=t=>{let{message:e,severity:r}=t,[i,o]=(0,n.useState)(!1);(0,n.useEffect)(()=>{e&&o(!0)},[e]);let s=()=>{o(!1)};return(0,a.jsx)(p.Z,{open:i,autoHideDuration:3e3,onClose:s,children:(0,a.jsx)(h.Z,{onClose:s,severity:r,sx:{width:"100%"},children:e})})};var g=r(1487),v=r(7541),j=r(87),b=function(){let[t,e]=(0,n.useState)([]),[r,s]=(0,n.useState)("home"),[l,c]=(0,n.useState)(""),[,m]=(0,n.useState)(!1),d=()=>{s("vote")};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i.ZP,{container:!0,style:{display:"flex",flexDirection:"column",alignItems:"center",margin:"1rem",width:"100%",boxSizing:"border-box"},children:[(0,a.jsx)(i.ZP,{item:!0,style:{width:"100%",maxWidth:"1200px"},children:(0,a.jsx)(x,{})}),(0,a.jsxs)(i.ZP,{item:!0,style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",width:"100%"},children:[(0,a.jsx)(o.Z,{color:"secondary",onClick:d,children:"Vote Agora"}),(0,a.jsx)(o.Z,{color:"secondary",onClick:()=>{s("register")},children:"Registre o participante"}),(0,a.jsx)(o.Z,{color:"secondary",onClick:()=>{s("top10")},children:"Classifica\xe7\xe3o Geral"})]}),(0,a.jsxs)(i.ZP,{item:!0,xs:12,style:{display:"flex",justifyContent:"center"},children:["vote"===r&&(0,a.jsx)(j.default,{onOpenSnackBar:t=>{c(t),m(!0)},users:t,setUsers:e}),"register"===r&&(0,a.jsx)(v.default,{onRegister:d}),"top10"===r&&(0,a.jsx)(g.default,{})]})]}),(0,a.jsx)(y,{message:l,severity:"success"})]})}},87:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return m}});var a=r(5893),n=r(7294),i=r(4246),o=r(4466),s=r(1388),l=r(355),c=r(8163);function m(t){let{onOpenSnackBar:e}=t,[r,m]=(0,n.useState)(0),[d,u]=(0,n.useState)(!1),[f,x]=(0,n.useState)([]),[p,h]=(0,n.useState)({anatomy:0,creativity:0,pigmentation:0,traces:0,readability:0,visualImpact:0}),[y,g]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{try{u(!0);let t=await fetch("/api/list");if(!t.ok)throw Error("Erro ao listar competidores");let e=await t.json();x(e);let r=e.reduce((t,e)=>t+e.votes,0);m(r)}catch(t){console.error("Erro ao buscar dados:",t),e("Erro ao listar competidores")}finally{u(!1)}})()},[e]);let v=t=>{h({...p,[t.target.name]:parseInt(t.target.value,10)})},j=async t=>{g(t);try{u(!0);let r=await fetch("/api/vote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...p,userId:t})});if(!r.ok)throw Error("Erro ao registrar voto");let a=await r.json(),n=f.map(t=>t.id===a.id?a:t);x(n);let i=n.reduce((t,e)=>t+e.votes,0);m(i),h({anatomy:0,creativity:0,pigmentation:0,traces:0,readability:0,visualImpact:0}),e("Voto registrado com sucesso")}catch(t){console.error("Erro ao votar:",t),e("Erro ao registrar voto")}finally{u(!1),g(null)}};return d?(0,a.jsx)(i.Z,{children:"Carregando..."}):(0,a.jsxs)(o.ZP,{container:!0,sx:{margin:"2rem",display:"flex",flexDirection:"column",alignItems:"center",minWidth:"320px"},children:[(0,a.jsx)(o.ZP,{item:!0,children:(0,a.jsx)(i.Z,{variant:"h4",gutterBottom:!0,style:{marginBottom:"6rem"},children:"Vote Agora"})}),(0,a.jsx)("form",{style:{width:"100%"},onSubmit:t=>{t.preventDefault()},children:(0,a.jsx)(o.ZP,{container:!0,spacing:3,sx:{width:"100%"},children:f.length>0?f.map(t=>(0,a.jsxs)(o.ZP,{xs:12,item:!0,sx:{display:"flex",flexDirection:"column",justifyContent:"center",backgroundColor:"#6c757d",padding:"1rem",borderRadius:"8px",marginBottom:"1rem",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.4)",transition:"transform 0.3s, box-shadow 0.3s",minWidth:"320px","&:hover":{transform:"scale(1.02)",boxShadow:"0 16px rgba(0,0,0, 0.2)"}},children:[(0,a.jsx)(i.Z,{style:{fontWeight:"bold"},children:t.name}),(0,a.jsx)(i.Z,{style:{color:"#757575"},children:t.work}),(0,a.jsx)(s.Z,{label:"Anatomia",type:"number",inputProps:{min:1,max:10},value:p.anatomy,onChange:v,name:"anatomy",style:{marginBottom:"0.5rem"},fullWidth:!0}),(0,a.jsx)(s.Z,{label:"Criatividade",type:"number",inputProps:{min:1,max:10},value:p.creativity,onChange:v,name:"creativity",style:{marginBottom:"0.5rem"},fullWidth:!0}),(0,a.jsx)(s.Z,{label:"Pigmenta\xe7\xe3o",type:"number",inputProps:{min:1,max:10},value:p.pigmentation,onChange:v,name:"pigmentation",style:{marginBottom:"0.5rem"},fullWidth:!0}),(0,a.jsx)(s.Z,{label:"Tra\xe7os",type:"number",inputProps:{min:1,max:10},value:p.traces,onChange:v,name:"traces",style:{marginBottom:"0.5rem"},fullWidth:!0}),(0,a.jsx)(s.Z,{label:"Legibilidade",type:"number",inputProps:{min:1,max:10},value:p.readability,onChange:v,name:"readability",style:{marginBottom:"0.5rem"},fullWidth:!0}),(0,a.jsx)(s.Z,{label:"Impacto Visual",type:"number",inputProps:{min:1,max:10},value:p.visualImpact,onChange:v,name:"visualImpact",style:{marginBottom:"0.5rem"},fullWidth:!0}),(0,a.jsx)(l.Z,{variant:"determinate",value:r>0?t.votes/r*100:0,sx:{backgroundColor:"#414141",marginTop:"0.5rem",height:"10px",borderRadius:"8px","& .MuiLinearProgress-bar":{backgroundColor:"#3f51b5"}}}),(0,a.jsxs)(i.Z,{variant:"caption",style:{display:"block",marginTop:"0.5rem"},children:[t.votes," votos (",r>0?(t.votes/r*100).toFixed(2):0," %)"]}),(0,a.jsx)(c.Z,{variant:"contained",color:"primary",onClick:()=>j(t.id),style:{marginTop:"1rem"},disabled:y===t.id,children:"Votar"})]},t.id)):(0,a.jsx)(i.Z,{variant:"body1",children:"Nenhum participante cadastrado"})})})]})}}},function(t){t.O(0,[836,851,158,819,888,774,179],function(){return t(t.s=8312)}),_N_E=t.O()}]);