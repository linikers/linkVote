(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[754],{1458:function(r,e,t){"use strict";t.d(e,{Z:function(){return T}});var a=t(3366),n=t(7462),o=t(7294),i=t(512),s=t(4780),l=t(917),u=t(2101),m=t(2056),c=t(8216),d=t(948),p=t(5845),f=t(1588),h=t(4867);function b(r){return(0,h.ZP)("MuiLinearProgress",r)}(0,f.Z)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var g=t(5893);let v=["className","color","value","valueBuffer","variant"],y=r=>r,x,Z,C,P,w,j,B=(0,l.F4)(x||(x=y`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),k=(0,l.F4)(Z||(Z=y`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),S=(0,l.F4)(C||(C=y`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),$=r=>{let{classes:e,variant:t,color:a}=r,n={root:["root",`color${(0,c.Z)(a)}`,t],dashed:["dashed",`dashedColor${(0,c.Z)(a)}`],bar1:["bar",`barColor${(0,c.Z)(a)}`,("indeterminate"===t||"query"===t)&&"bar1Indeterminate","determinate"===t&&"bar1Determinate","buffer"===t&&"bar1Buffer"],bar2:["bar","buffer"!==t&&`barColor${(0,c.Z)(a)}`,"buffer"===t&&`color${(0,c.Z)(a)}`,("indeterminate"===t||"query"===t)&&"bar2Indeterminate","buffer"===t&&"bar2Buffer"]};return(0,s.Z)(n,b,e)},I=(r,e)=>"inherit"===e?"currentColor":r.vars?r.vars.palette.LinearProgress[`${e}Bg`]:"light"===r.palette.mode?(0,u.$n)(r.palette[e].main,.62):(0,u._j)(r.palette[e].main,.5),_=(0,d.ZP)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver(r,e){let{ownerState:t}=r;return[e.root,e[`color${(0,c.Z)(t.color)}`],e[t.variant]]}})(({ownerState:r,theme:e})=>(0,n.Z)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:I(e,r.color)},"inherit"===r.color&&"buffer"!==r.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===r.variant&&{backgroundColor:"transparent"},"query"===r.variant&&{transform:"rotate(180deg)"})),W=(0,d.ZP)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver(r,e){let{ownerState:t}=r;return[e.dashed,e[`dashedColor${(0,c.Z)(t.color)}`]]}})(({ownerState:r,theme:e})=>{let t=I(e,r.color);return(0,n.Z)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===r.color&&{opacity:.3},{backgroundImage:`radial-gradient(${t} 0%, ${t} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},(0,l.iv)(P||(P=y`
    animation: ${0} 3s infinite linear;
  `),S)),E=(0,d.ZP)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver(r,e){let{ownerState:t}=r;return[e.bar,e[`barColor${(0,c.Z)(t.color)}`],("indeterminate"===t.variant||"query"===t.variant)&&e.bar1Indeterminate,"determinate"===t.variant&&e.bar1Determinate,"buffer"===t.variant&&e.bar1Buffer]}})(({ownerState:r,theme:e})=>(0,n.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===r.color?"currentColor":(e.vars||e).palette[r.color].main},"determinate"===r.variant&&{transition:"transform .4s linear"},"buffer"===r.variant&&{zIndex:1,transition:"transform .4s linear"}),({ownerState:r})=>("indeterminate"===r.variant||"query"===r.variant)&&(0,l.iv)(w||(w=y`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),B)),M=(0,d.ZP)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver(r,e){let{ownerState:t}=r;return[e.bar,e[`barColor${(0,c.Z)(t.color)}`],("indeterminate"===t.variant||"query"===t.variant)&&e.bar2Indeterminate,"buffer"===t.variant&&e.bar2Buffer]}})(({ownerState:r,theme:e})=>(0,n.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==r.variant&&{backgroundColor:"inherit"===r.color?"currentColor":(e.vars||e).palette[r.color].main},"inherit"===r.color&&{opacity:.3},"buffer"===r.variant&&{backgroundColor:I(e,r.color),transition:"transform .4s linear"}),({ownerState:r})=>("indeterminate"===r.variant||"query"===r.variant)&&(0,l.iv)(j||(j=y`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),k)),N=o.forwardRef(function(r,e){let t=(0,p.i)({props:r,name:"MuiLinearProgress"}),{className:o,color:s="primary",value:l,valueBuffer:u,variant:c="indeterminate"}=t,d=(0,a.Z)(t,v),f=(0,n.Z)({},t,{color:s,variant:c}),h=$(f),b=(0,m.V)(),y={},x={bar1:{},bar2:{}};if(("determinate"===c||"buffer"===c)&&void 0!==l){y["aria-valuenow"]=Math.round(l),y["aria-valuemin"]=0,y["aria-valuemax"]=100;let Z=l-100;b&&(Z=-Z),x.bar1.transform=`translateX(${Z}%)`}if("buffer"===c&&void 0!==u){let C=(u||0)-100;b&&(C=-C),x.bar2.transform=`translateX(${C}%)`}return(0,g.jsxs)(_,(0,n.Z)({className:(0,i.Z)(h.root,o),ownerState:f,role:"progressbar"},y,{ref:e},d,{children:["buffer"===c?(0,g.jsx)(W,{className:h.dashed,ownerState:f}):null,(0,g.jsx)(E,{className:h.bar1,ownerState:f,style:x.bar1}),"determinate"===c?null:(0,g.jsx)(M,{className:h.bar2,ownerState:f,style:x.bar2})]}))});var T=N},5861:function(r,e,t){"use strict";t.d(e,{Z:function(){return P}});var a=t(3366),n=t(7462),o=t(7294),i=t(512),s=t(9707),l=t(4780),u=t(948),m=t(5845),c=t(8216),d=t(1588),p=t(4867);function f(r){return(0,p.ZP)("MuiTypography",r)}(0,d.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var h=t(5893);let b=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],g=r=>{let{align:e,gutterBottom:t,noWrap:a,paragraph:n,variant:o,classes:i}=r,s={root:["root",o,"inherit"!==r.align&&`align${(0,c.Z)(e)}`,t&&"gutterBottom",a&&"noWrap",n&&"paragraph"]};return(0,l.Z)(s,f,i)},v=(0,u.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver(r,e){let{ownerState:t}=r;return[e.root,t.variant&&e[t.variant],"inherit"!==t.align&&e[`align${(0,c.Z)(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(({theme:r,ownerState:e})=>(0,n.Z)({margin:0},"inherit"===e.variant&&{font:"inherit"},"inherit"!==e.variant&&r.typography[e.variant],"inherit"!==e.align&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),y={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},x={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Z=r=>x[r]||r,C=o.forwardRef(function(r,e){let t=(0,m.i)({props:r,name:"MuiTypography"}),o=Z(t.color),l=(0,s.Z)((0,n.Z)({},t,{color:o})),{align:u="inherit",className:c,component:d,gutterBottom:p=!1,noWrap:f=!1,paragraph:x=!1,variant:C="body1",variantMapping:P=y}=l,w=(0,a.Z)(l,b),j=(0,n.Z)({},l,{align:u,color:o,className:c,component:d,gutterBottom:p,noWrap:f,paragraph:x,variant:C,variantMapping:P}),B=d||(x?"p":P[C]||y[C])||"span",k=g(j);return(0,h.jsx)(v,(0,n.Z)({as:B,ref:e,ownerState:j,className:(0,i.Z)(k.root,c)},w))});var P=C},5987:function(r,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/vote/Vote",function(){return t(7915)}])},7915:function(r,e,t){"use strict";t.r(e),t.d(e,{default:function(){return h}});var a=t(7568),n=t(4924),o=t(6042),i=t(9396),s=t(7582),l=t(5893),u=t(7294),m=t(5861),c=t(6886),d=t(3319),p=t(1458),f=t(9417);function h(r){var e=r.onOpenSnackBar,t=(0,u.useState)(0),h=t[0],b=t[1],g=(0,u.useState)(!1),v=g[0],y=g[1],x=(0,u.useState)([]),Z=x[0],C=x[1],P=(0,u.useState)({anatomy:0,creativity:0,pigmentation:0,traces:0,readability:0,visualImpact:0}),w=P[0],j=P[1],B=(0,u.useState)(null),k=B[0],S=B[1];(0,u.useEffect)(function(){var r;(r=(0,a.Z)(function(){var r,t,a,n;return(0,s.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,4,5]),y(!0),[4,fetch("/api/list")];case 1:if(!(r=a.sent()).ok)throw Error("Erro ao listar competidores");return[4,r.json()];case 2:return C(t=a.sent()),b(t.reduce(function(r,e){return r+e.votes},0)),[3,5];case 3:return n=a.sent(),console.error("Erro ao buscar dados:",n),e("Erro ao listar competidores"),[3,5];case 4:return y(!1),[7];case 5:return[2]}})}),function(){return r.apply(this,arguments)})()},[e]);var $,I=function(r){j((0,i.Z)((0,o.Z)({},w),(0,n.Z)({},r.target.name,parseInt(r.target.value,10))))},_=($=(0,a.Z)(function(r){var t,a,n,l,u;return(0,s.__generator)(this,function(s){switch(s.label){case 0:S(r),s.label=1;case 1:return s.trys.push([1,4,5,6]),y(!0),[4,fetch("/api/vote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,i.Z)((0,o.Z)({},w),{userId:r}))})];case 2:if(!(t=s.sent()).ok)throw Error("Erro ao registrar voto");return[4,t.json()];case 3:return a=s.sent(),C(n=Z.map(function(r){return r.id===a.id?a:r})),b(n.reduce(function(r,e){return r+e.votes},0)),j({anatomy:0,creativity:0,pigmentation:0,traces:0,readability:0,visualImpact:0}),e("Voto registrado com sucesso"),[3,6];case 4:return u=s.sent(),console.error("Erro ao votar:",u),e("Erro ao registrar voto"),[3,6];case 5:return y(!1),S(null),[7];case 6:return[2]}})}),function(r){return $.apply(this,arguments)});return v?(0,l.jsx)(m.Z,{children:"Carregando..."}):(0,l.jsxs)(c.ZP,{container:!0,sx:{margin:"2rem",display:"flex",flexDirection:"column",alignItems:"center",minWidth:"320px"},children:[(0,l.jsx)(c.ZP,{item:!0,children:(0,l.jsx)(m.Z,{variant:"h4",gutterBottom:!0,style:{marginBottom:"6rem"},children:"Vote Agora"})}),(0,l.jsx)("form",{style:{width:"100%"},onSubmit:function(r){r.preventDefault()},children:(0,l.jsx)(c.ZP,{container:!0,spacing:3,sx:{width:"100%"},children:Z.length>0?Z.map(function(r){return(0,l.jsxs)(c.ZP,{xs:12,item:!0,sx:{display:"flex",flexDirection:"column",justifyContent:"center",backgroundColor:"#6c757d",padding:"1rem",borderRadius:"8px",marginBottom:"1rem",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.4)",transition:"transform 0.3s, box-shadow 0.3s",minWidth:"320px","&:hover":{transform:"scale(1.02)",boxShadow:"0 16px rgba(0,0,0, 0.2)"}},children:[(0,l.jsx)(m.Z,{style:{fontWeight:"bold"},children:r.name}),(0,l.jsx)(m.Z,{style:{color:"#757575"},children:r.work}),(0,l.jsx)(d.Z,{label:"Anatomia",type:"number",inputProps:{min:1,max:10},value:w.anatomy,onChange:I,name:"anatomy",style:{marginBottom:"0.5rem"},fullWidth:!0}),(0,l.jsx)(d.Z,{label:"Criatividade",type:"number",inputProps:{min:1,max:10},value:w.creativity,onChange:I,name:"creativity",style:{marginBottom:"0.5rem"},fullWidth:!0}),(0,l.jsx)(d.Z,{label:"Pigmenta\xe7\xe3o",type:"number",inputProps:{min:1,max:10},value:w.pigmentation,onChange:I,name:"pigmentation",style:{marginBottom:"0.5rem"},fullWidth:!0}),(0,l.jsx)(d.Z,{label:"Tra\xe7os",type:"number",inputProps:{min:1,max:10},value:w.traces,onChange:I,name:"traces",style:{marginBottom:"0.5rem"},fullWidth:!0}),(0,l.jsx)(d.Z,{label:"Legibilidade",type:"number",inputProps:{min:1,max:10},value:w.readability,onChange:I,name:"readability",style:{marginBottom:"0.5rem"},fullWidth:!0}),(0,l.jsx)(d.Z,{label:"Impacto Visual",type:"number",inputProps:{min:1,max:10},value:w.visualImpact,onChange:I,name:"visualImpact",style:{marginBottom:"0.5rem"},fullWidth:!0}),(0,l.jsx)(p.Z,{variant:"determinate",value:h>0?r.votes/h*100:0,sx:{backgroundColor:"#414141",marginTop:"0.5rem",height:"10px",borderRadius:"8px","& .MuiLinearProgress-bar":{backgroundColor:"#3f51b5"}}}),(0,l.jsxs)(m.Z,{variant:"caption",style:{display:"block",marginTop:"0.5rem"},children:[r.votes," votos (",h>0?(r.votes/h*100).toFixed(2):0," %)"]}),(0,l.jsx)(f.Z,{variant:"contained",color:"primary",onClick:function(){return _(r.id)},style:{marginTop:"1rem"},disabled:k===r.id,children:"Votar"})]},r.id)}):(0,l.jsx)(m.Z,{variant:"body1",children:"Nenhum participante cadastrado"})})})]})}}},function(r){r.O(0,[774,186,840,888,179],function(){return r(r.s=5987)}),_N_E=r.O()}]);