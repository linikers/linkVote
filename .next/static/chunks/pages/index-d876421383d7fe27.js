(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(4811)}])},5209:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var n=r(7568),a=r(4924),i=r(6042),o=r(9396),s=r(7582),c=r(5893),l=r(6886),u=r(6409),m=r(3319),d=r(9417),f=r(7294);function x(e){var t,r=e.onRegister,x=(0,f.useState)({id:"",name:"",work:"",votes:0,percent:0,anatomy:0,creativity:0,pigmentation:0,traces:0,readability:0,visualImpact:0,totalScore:0}),p=x[0],h=x[1],y=(0,f.useState)("")[1],g=(0,f.useState)("success")[1],v=(0,f.useState)(!1)[1],Z=function(e){var t=e.target,r=t.name,n=t.value;h(function(e){return(0,o.Z)((0,i.Z)({},e),(0,a.Z)({},r,"votes"===r||"anatomy"===r||"creativity"===r||"pigmentation"===r||"traces"===r||"readability"===r||"visualImpact"===r||"totalScore"===r?parseFloat(n):n))})},j=(t=(0,n.Z)(function(e){var t,n,a;return(0,s.__generator)(this,function(i){switch(i.label){case 0:e.preventDefault(),i.label=1;case 1:return i.trys.push([1,6,,7]),[4,fetch("/api/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)})];case 2:if((t=i.sent()).ok)return[3,4];return[4,t.json()];case 3:return n=i.sent(),y("Erro ao salvar: ".concat(n.message)),g("error"),v(!0),[2];case 4:return[4,t.json()];case 5:return a=i.sent(),y("Registrado com sucesso!"),g("success"),v(!0),r(),h({id:"",name:"",work:"",votes:0,percent:0,anatomy:0,creativity:0,pigmentation:0,traces:0,readability:0,visualImpact:0,totalScore:0}),a(),[3,7];case 6:return i.sent(),y("Erro ao salvar"),g("error"),v(!0),[3,7];case 7:return[2]}})}),function(e){return t.apply(this,arguments)});return(0,c.jsx)("form",{onSubmit:j,children:(0,c.jsx)(l.ZP,{container:!0,spacing:2,children:(0,c.jsxs)(u.Z,{fullWidth:!0,children:[(0,c.jsx)(l.ZP,{item:!0,xs:12,style:{margin:"1rem"},children:(0,c.jsx)(m.Z,{label:"Nome",name:"name",value:p.name,color:"secondary",onChange:Z,fullWidth:!0})}),(0,c.jsx)(l.ZP,{item:!0,xs:12,style:{margin:"1rem"},children:(0,c.jsx)(m.Z,{label:"Est\xfadio",name:"work",value:p.work,onChange:Z,fullWidth:!0})}),(0,c.jsx)(l.ZP,{item:!0,style:{margin:"2rem"},children:(0,c.jsx)(d.Z,{variant:"contained",color:"primary",type:"submit",children:"Salvar"})})]})})})}},6306:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var n=r(7568),a=r(797),i=r(7582),o=r(5893),s=r(7294),c=r(5861),l=r(6886),u=r(629),m=r(5616);function d(){var e=(0,s.useState)(!1),t=e[0],r=e[1],d=(0,s.useState)([]),f=d[0],x=d[1];if((0,s.useEffect)(function(){var e;(e=(0,n.Z)(function(){var e,t,n;return(0,i.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,4,5]),r(!0),[4,fetch("/api/list")];case 1:if(!(e=t.sent()).ok)throw Error("Erro ao listar competidores");return[4,e.json()];case 2:return x(t.sent()),[3,5];case 3:return n=t.sent(),console.error("Erro ao buscar dados:",n),[3,5];case 4:return r(!1),[7];case 5:return[2]}})}),function(){return e.apply(this,arguments)})()},[]),t)return(0,o.jsx)(c.Z,{children:"Carregando..."});var p=(0,a.Z)(f).sort(function(e,t){return t.totalScore-e.totalScore}).slice(0,100);return(0,o.jsxs)(l.ZP,{container:!0,spacing:2,sx:{margin:"3rem",marginTop:"6rem"},children:[(0,o.jsx)(l.ZP,{xs:12,children:(0,o.jsx)(c.Z,{gutterBottom:!0,variant:"h4",children:"Top 100"})}),p.map(function(e,t){return(0,o.jsx)(l.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,o.jsxs)(u.Z,{sx:{boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",backgroundColor:"#e3d5ca",borderRadius:"8px",padding:"1rem"},children:[(0,o.jsx)(m.Z,{sx:{textAlign:"center",marginBottom:"1rem"},children:(0,o.jsxs)(c.Z,{variant:"h6",sx:{fontWeight:"bold"},children:[t+1,". ",e.name]})}),(0,o.jsxs)(m.Z,{children:[(0,o.jsxs)(c.Z,{variant:"body1",children:["Anatomia: ",e.anatomy]}),(0,o.jsxs)(c.Z,{variant:"body1",children:["Criatividade: ",e.creativity]}),(0,o.jsxs)(c.Z,{variant:"body1",children:["Pigmenta\xe7\xe3o: ",e.pigmentation]}),(0,o.jsxs)(c.Z,{variant:"body1",children:["Tra\xe7os: ",e.traces]}),(0,o.jsxs)(c.Z,{variant:"body1",children:["Legibilidade: ",e.readability]}),(0,o.jsxs)(c.Z,{variant:"body1",children:["Impacto Visual: ",e.visualImpact]}),(0,o.jsxs)(c.Z,{variant:"body2",children:["Nota Geral: ",e.totalScore]})]})]})},t)})]})}},4811:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var n=r(5893),a=r(7294),i=r(7297),o=r(917),s=r(6886),c=r(5861),l=r(2694),u=r(9684);function m(){var e=(0,i.Z)(["\n  0% { opacity: 1; color: #ff00ff; }\n  25% { opacity: 0.5; color: #ff00ff; }\n  50% { opacity: 1; color: #ff00ff; }\n  75% { opacity: 0.5; color: #ff00ff; } \n  100% { opacity: 1; color: #ff00ff; } \n  75% { opacity: 0.5; color: #ff00ff; }\n  50% { opacity: 1; color: #ff00ff; }\n  25% { opacity: 0.5; color: #ff00ff; }\n  0% { opacity: 1; color: #ff00ff; }\n"]);return m=function(){return e},e}var d=(0,o.F4)(m()),f=function(){return(0,n.jsx)(s.ZP,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem",perspective:"800px",flexDirection:{xs:"column",sm:"row"}},children:(0,n.jsxs)(c.Z,{sx:{transform:"rotateY(20deg)",transition:"transform 0.5s",marginBottom:"3rem",display:"flex",alignItems:"center",animation:"".concat(d," 2s infinite"),flexDirection:{xs:"column",sm:"row"}},children:["Rocket Tattoo",(0,n.jsx)(l.Z,{sx:{fontSize:"3rem",transform:"translateZ(40px) rotateZ(10deg)",margin:"0 1rem",transition:"transform 0.5s, color 0.5s",animation:"".concat(d," 2s infinite"),"&:hover":{transform:"translateZ(40px) rotateZ(10deg)"}}}),"feat. linikerS.Dev",(0,n.jsx)(u.Z,{sx:{fontSize:"3rem",transform:"translateZ(40px) rotateZ(10deg)",margin:"0 1rem",transition:"transform 0.5s, color 0.5s",animation:"".concat(d," 2s infinite"),"&:hover":{transform:"translateZ(40px) rotateZ(10deg)"}}})]})})},x=r(5970),p=r(9415),h=function(e){var t=e.message,r=e.severity,i=(0,a.useState)(!1),o=i[0],s=i[1];(0,a.useEffect)(function(){t&&s(!0)},[t]);var c=function(){s(!1)};return(0,n.jsx)(x.Z,{open:o,autoHideDuration:3e3,onClose:c,children:(0,n.jsx)(p.Z,{onClose:c,severity:r,sx:{width:"100%"},children:t})})},y=r(6306),g=r(5209),v=r(7915),Z=r(9417),j=function(){var e=(0,a.useState)([]),t=e[0],r=e[1],i=(0,a.useState)("home"),o=i[0],c=i[1],l=(0,a.useState)(""),u=l[0],m=l[1],d=(0,a.useState)(!1)[1],x=function(){c("vote")},p=function(){c("register")},j=function(){c("top10")},b=function(e){m(e),d(!0)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.ZP,{container:!0,style:{display:"flex",flexDirection:"column",alignItems:"center",margin:"1rem",width:"100%",boxSizing:"border-box"},children:[(0,n.jsx)(s.ZP,{item:!0,style:{width:"100%",maxWidth:"1200px"},children:(0,n.jsx)(f,{})}),(0,n.jsxs)(s.ZP,{item:!0,style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",width:"100%"},children:[(0,n.jsx)(Z.Z,{color:"secondary",onClick:x,children:"Vote Agora"}),(0,n.jsx)(Z.Z,{color:"secondary",onClick:p,children:"Registre o participante"}),(0,n.jsx)(Z.Z,{color:"secondary",onClick:j,children:"Classifica\xe7\xe3o Geral"})]}),(0,n.jsxs)(s.ZP,{item:!0,xs:12,style:{display:"flex",justifyContent:"center"},children:["vote"===o&&(0,n.jsx)(v.default,{onOpenSnackBar:b,users:t,setUsers:r}),"register"===o&&(0,n.jsx)(g.default,{onRegister:x}),"top10"===o&&(0,n.jsx)(y.default,{})]})]}),(0,n.jsx)(h,{message:u,severity:"success"})]})}},7915:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var n=r(7568),a=r(4924),i=r(6042),o=r(9396),s=r(7582),c=r(5893),l=r(7294),u=r(5861),m=r(6886),d=r(3319),f=r(1458),x=r(9417);function p(e){var t=e.onOpenSnackBar,r=(0,l.useState)(0),p=r[0],h=r[1],y=(0,l.useState)(!1),g=y[0],v=y[1],Z=(0,l.useState)([]),j=Z[0],b=Z[1],S=(0,l.useState)({anatomy:0,creativity:0,pigmentation:0,traces:0,readability:0,visualImpact:0}),w=S[0],C=S[1],P=(0,l.useState)(null),k=P[0],E=P[1];(0,l.useEffect)(function(){var e;(e=(0,n.Z)(function(){var e,r,n,a;return(0,s.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,4,5]),v(!0),[4,fetch("/api/list")];case 1:if(!(e=n.sent()).ok)throw Error("Erro ao listar competidores");return[4,e.json()];case 2:return b(r=n.sent()),h(r.reduce(function(e,t){return e+t.votes},0)),[3,5];case 3:return a=n.sent(),console.error("Erro ao buscar dados:",a),t("Erro ao listar competidores"),[3,5];case 4:return v(!1),[7];case 5:return[2]}})}),function(){return e.apply(this,arguments)})()},[t]);var _,I=function(e){C((0,o.Z)((0,i.Z)({},w),(0,a.Z)({},e.target.name,parseInt(e.target.value,10))))},B=(_=(0,n.Z)(function(e){var r,n,a,c,l;return(0,s.__generator)(this,function(s){switch(s.label){case 0:E(e),s.label=1;case 1:return s.trys.push([1,4,5,6]),v(!0),[4,fetch("/api/vote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,o.Z)((0,i.Z)({},w),{userId:e}))})];case 2:if(!(r=s.sent()).ok)throw Error("Erro ao registrar voto");return[4,r.json()];case 3:return n=s.sent(),b(a=j.map(function(e){return e.id===n.id?n:e})),h(a.reduce(function(e,t){return e+t.votes},0)),C({anatomy:0,creativity:0,pigmentation:0,traces:0,readability:0,visualImpact:0}),t("Voto registrado com sucesso"),[3,6];case 4:return l=s.sent(),console.error("Erro ao votar:",l),t("Erro ao registrar voto"),[3,6];case 5:return v(!1),E(null),[7];case 6:return[2]}})}),function(e){return _.apply(this,arguments)});return g?(0,c.jsx)(u.Z,{children:"Carregando..."}):(0,c.jsxs)(m.ZP,{container:!0,sx:{margin:"2rem",display:"flex",flexDirection:"column",alignItems:"center",minWidth:"320px"},children:[(0,c.jsx)(m.ZP,{item:!0,children:(0,c.jsx)(u.Z,{variant:"h4",gutterBottom:!0,style:{marginBottom:"6rem"},children:"Vote Agora"})}),(0,c.jsx)("form",{style:{width:"100%"},onSubmit:function(e){e.preventDefault()},children:(0,c.jsx)(m.ZP,{container:!0,spacing:3,sx:{width:"100%"},children:j.length>0?j.map(function(e){return(0,c.jsxs)(m.ZP,{xs:12,item:!0,sx:{display:"flex",flexDirection:"column",justifyContent:"center",backgroundColor:"#6c757d",padding:"1rem",borderRadius:"8px",marginBottom:"1rem",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.4)",transition:"transform 0.3s, box-shadow 0.3s",minWidth:"320px","&:hover":{transform:"scale(1.02)",boxShadow:"0 16px rgba(0,0,0, 0.2)"}},children:[(0,c.jsx)(u.Z,{style:{fontWeight:"bold"},children:e.name}),(0,c.jsx)(u.Z,{style:{color:"#757575"},children:e.work}),(0,c.jsx)(d.Z,{label:"Anatomia",type:"number",inputProps:{min:1,max:10},value:w.anatomy,onChange:I,name:"anatomy",style:{marginBottom:"0.5rem"},fullWidth:!0}),(0,c.jsx)(d.Z,{label:"Criatividade",type:"number",inputProps:{min:1,max:10},value:w.creativity,onChange:I,name:"creativity",style:{marginBottom:"0.5rem"},fullWidth:!0}),(0,c.jsx)(d.Z,{label:"Pigmenta\xe7\xe3o",type:"number",inputProps:{min:1,max:10},value:w.pigmentation,onChange:I,name:"pigmentation",style:{marginBottom:"0.5rem"},fullWidth:!0}),(0,c.jsx)(d.Z,{label:"Tra\xe7os",type:"number",inputProps:{min:1,max:10},value:w.traces,onChange:I,name:"traces",style:{marginBottom:"0.5rem"},fullWidth:!0}),(0,c.jsx)(d.Z,{label:"Legibilidade",type:"number",inputProps:{min:1,max:10},value:w.readability,onChange:I,name:"readability",style:{marginBottom:"0.5rem"},fullWidth:!0}),(0,c.jsx)(d.Z,{label:"Impacto Visual",type:"number",inputProps:{min:1,max:10},value:w.visualImpact,onChange:I,name:"visualImpact",style:{marginBottom:"0.5rem"},fullWidth:!0}),(0,c.jsx)(f.Z,{variant:"determinate",value:p>0?e.votes/p*100:0,sx:{backgroundColor:"#414141",marginTop:"0.5rem",height:"10px",borderRadius:"8px","& .MuiLinearProgress-bar":{backgroundColor:"#3f51b5"}}}),(0,c.jsxs)(u.Z,{variant:"caption",style:{display:"block",marginTop:"0.5rem"},children:[e.votes," votos (",p>0?(e.votes/p*100).toFixed(2):0," %)"]}),(0,c.jsx)(x.Z,{variant:"contained",color:"primary",onClick:function(){return B(e.id)},style:{marginTop:"1rem"},disabled:k===e.id,children:"Votar"})]},e.id)}):(0,c.jsx)(u.Z,{variant:"body1",children:"Nenhum participante cadastrado"})})})]})}}},function(e){e.O(0,[774,186,840,92,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);